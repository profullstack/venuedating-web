{"version":3,"file":"index.js","sources":["../src/utils.js","../src/transitions.js","../src/router.js","../src/component-loader.js","../src/renderer.js","../src/index.js"],"sourcesContent":["/**\n * Utility functions for the router\n */\n\n/**\n * Convert a route path to a regular expression\n * @param {string} path - Route path\n * @returns {Object} - Regex and param names\n */\nexport const pathToRegex = (path) => {\n  // Skip if not a dynamic route\n  if (!path.includes(':')) {\n    return {\n      regex: new RegExp(`^${path}$`),\n      paramNames: []\n    };\n  }\n  \n  // Extract param names\n  const paramNames = (path.match(/:[^\\s/]+/g) || [])\n    .map(param => param.slice(1)); // Remove the colon\n  \n  // Convert route path to regex\n  const pattern = path\n    .replace(/:[^\\s/]+/g, '([^/]+)')\n    .replace(/\\//g, '\\\\/');\n  \n  return {\n    regex: new RegExp(`^${pattern}$`),\n    paramNames\n  };\n};\n\n/**\n * Extract params from a path using a regex and param names\n * @param {string} path - Current path\n * @param {RegExp} regex - Route regex\n * @param {Array} paramNames - Parameter names\n * @returns {Object|null} - Extracted params or null if no match\n */\nexport const extractParams = (path, regex, paramNames) => {\n  const match = path.match(regex);\n  \n  if (!match) {\n    return null;\n  }\n  \n  // Extract params\n  const params = {};\n  \n  paramNames.forEach((paramName, index) => {\n    params[paramName] = match[index + 1];\n  });\n  \n  return params;\n};\n\n/**\n * Normalize a path\n * @param {string} path - Path to normalize\n * @returns {string} - Normalized path\n */\nexport const normalizePath = (path) => {\n  // Default to home if no path\n  path = path || '/';\n  \n  // Remove trailing slash except for root\n  if (path !== '/' && path.endsWith('/')) {\n    path = path.slice(0, -1);\n  }\n  \n  // Ensure root path is always '/'\n  if (path === '') {\n    path = '/';\n  }\n  \n  return path;\n};\n\n/**\n * Find the first anchor element in an event path\n * @param {Event} event - Click event\n * @returns {HTMLAnchorElement|null} - Anchor element or null\n */\nexport const findAnchorInPath = (event) => {\n  // Get the event path (works for both regular DOM and shadow DOM)\n  const path = event.composedPath();\n  \n  // Find the first anchor element in the event path\n  for (let i = 0; i < path.length; i++) {\n    if (path[i].tagName === 'A') {\n      return path[i];\n    }\n  }\n  \n  return null;\n};\n\n/**\n * Check if a link should be handled by the router\n * @param {HTMLAnchorElement} anchor - Anchor element\n * @returns {boolean} - Whether the link should be handled\n */\nexport const shouldHandleLink = (anchor) => {\n  // Get the href attribute\n  const href = anchor.getAttribute('href');\n  \n  // Skip if no href\n  if (!href) {\n    return false;\n  }\n  \n  // Skip if it's an external link\n  if (href.startsWith('http') || href.startsWith('//')) {\n    return false;\n  }\n  \n  // Skip if it has a target\n  if (anchor.hasAttribute('target')) {\n    return false;\n  }\n  \n  // Skip if it's a download link\n  if (anchor.hasAttribute('download')) {\n    return false;\n  }\n  \n  // Skip if it's an anchor link\n  if (href.startsWith('#')) {\n    return false;\n  }\n  \n  // Skip if it's a file link (has extension)\n  if (href.match(/\\.\\w+$/)) {\n    return false;\n  }\n  \n  return true;\n};\n\nexport default {\n  pathToRegex,\n  extractParams,\n  normalizePath,\n  findAnchorInPath,\n  shouldHandleLink\n};","/**\n * Transition effects for page changes\n */\n\n/**\n * No transition effect\n * @returns {Function} Transition function\n */\nexport const none = () => {\n  return async (oldContent, newContent, rootElement) => {\n    rootElement.innerHTML = newContent;\n    return Promise.resolve();\n  };\n};\n\n/**\n * Fade transition effect\n * @param {Object} options - Transition options\n * @param {number} options.duration - Transition duration in ms\n * @returns {Function} Transition function\n */\nexport const fade = (options = {}) => {\n  const duration = options.duration || 150;\n  const onComplete = options.onComplete || (() => {});\n  \n  return async (oldContent, newContent, rootElement) => {\n    return new Promise((resolve) => {\n      // Create a full-screen overlay to hide everything during transition\n      const transitionOverlay = document.createElement('div');\n      transitionOverlay.className = 'transition-overlay';\n      transitionOverlay.style.position = 'fixed';\n      transitionOverlay.style.top = '0';\n      transitionOverlay.style.left = '0';\n      transitionOverlay.style.width = '100vw';\n      transitionOverlay.style.height = '100vh';\n      transitionOverlay.style.backgroundColor = 'var(--background-color, #ffffff)';\n      transitionOverlay.style.zIndex = '9999';\n      transitionOverlay.style.opacity = '0';\n      transitionOverlay.style.transition = `opacity ${duration}ms ease-in-out`;\n      \n      // Add the overlay to the body\n      document.body.appendChild(transitionOverlay);\n      \n      // Fade in the overlay\n      setTimeout(() => {\n        transitionOverlay.style.opacity = '1';\n      }, 0);\n      \n      // Wait for the fade-in to complete\n      setTimeout(() => {\n        // Replace the content\n        if (newContent instanceof DocumentFragment) {\n          // Clear the root element\n          rootElement.innerHTML = '';\n          // Append the DocumentFragment\n          rootElement.appendChild(newContent.cloneNode(true));\n        } else if (typeof newContent === 'string') {\n          // Set the HTML content\n          rootElement.innerHTML = newContent;\n        } else {\n          console.error('Unsupported content type:', typeof newContent);\n          rootElement.innerHTML = String(newContent);\n        }\n        \n        // Fade out the overlay\n        transitionOverlay.style.opacity = '0';\n        \n        // Remove the overlay after the transition completes\n        setTimeout(() => {\n          if (document.body.contains(transitionOverlay)) {\n            document.body.removeChild(transitionOverlay);\n          }\n          \n          // Call the onComplete callback\n          onComplete();\n          \n          // Clean up any other transition overlays that might be stuck\n          const overlays = document.querySelectorAll('.transition-overlay');\n          overlays.forEach(overlay => {\n            if (document.body.contains(overlay) && overlay !== transitionOverlay) {\n              console.log('Removing stale transition overlay');\n              document.body.removeChild(overlay);\n            }\n          });\n          \n          resolve();\n        }, duration);\n      }, duration);\n      \n      // Safety timeout to ensure overlay is removed even if something goes wrong\n      setTimeout(() => {\n        if (document.body.contains(transitionOverlay)) {\n          console.log('Safety timeout: removing transition overlay');\n          document.body.removeChild(transitionOverlay);\n        }\n      }, duration * 3);\n    });\n  };\n};\n\n/**\n * Slide transition effect\n * @param {Object} options - Transition options\n * @param {string} options.direction - Slide direction ('left', 'right', 'up', 'down')\n * @param {number} options.duration - Transition duration in ms\n * @returns {Function} Transition function\n */\nexport const slide = (options = {}) => {\n  const direction = options.direction || 'left';\n  const duration = options.duration || 300;\n  \n  return async (oldContent, newContent, rootElement) => {\n    return new Promise((resolve) => {\n      // Create a container for the old content\n      const oldContainer = document.createElement('div');\n      oldContainer.style.position = 'absolute';\n      oldContainer.style.top = '0';\n      oldContainer.style.left = '0';\n      oldContainer.style.width = '100%';\n      oldContainer.style.height = '100%';\n      oldContainer.style.transition = `transform ${duration}ms ease-in-out`;\n      \n      // Set old content\n      if (typeof oldContent === 'string') {\n        oldContainer.innerHTML = oldContent;\n      } else {\n        console.warn('Old content is not a string, using empty content');\n        oldContainer.innerHTML = '';\n      }\n      \n      // Create a container for the new content\n      const newContainer = document.createElement('div');\n      newContainer.style.position = 'absolute';\n      newContainer.style.top = '0';\n      newContainer.style.left = '0';\n      newContainer.style.width = '100%';\n      newContainer.style.height = '100%';\n      newContainer.style.transition = `transform ${duration}ms ease-in-out`;\n      \n      // Set new content\n      if (newContent instanceof DocumentFragment) {\n        newContainer.appendChild(newContent.cloneNode(true));\n      } else if (typeof newContent === 'string') {\n        newContainer.innerHTML = newContent;\n      } else {\n        console.error('Unsupported content type:', typeof newContent);\n        newContainer.innerHTML = String(newContent);\n      }\n      \n      // Set initial positions\n      let initialTransform = '';\n      let finalTransform = '';\n      \n      switch (direction) {\n        case 'left':\n          initialTransform = 'translateX(100%)';\n          finalTransform = 'translateX(-100%)';\n          break;\n        case 'right':\n          initialTransform = 'translateX(-100%)';\n          finalTransform = 'translateX(100%)';\n          break;\n        case 'up':\n          initialTransform = 'translateY(100%)';\n          finalTransform = 'translateY(-100%)';\n          break;\n        case 'down':\n          initialTransform = 'translateY(-100%)';\n          finalTransform = 'translateY(100%)';\n          break;\n      }\n      \n      // Clear the root element and add both containers\n      rootElement.innerHTML = '';\n      rootElement.style.position = 'relative';\n      rootElement.style.overflow = 'hidden';\n      rootElement.appendChild(oldContainer);\n      rootElement.appendChild(newContainer);\n      \n      // Force a reflow to ensure the initial styles are applied\n      newContainer.getBoundingClientRect();\n      \n      // Set initial transform for the new container\n      newContainer.style.transform = 'translateX(0)';\n      \n      // Trigger the transition after a short delay\n      setTimeout(() => {\n        // Set the transform for the old container\n        oldContainer.style.transform = finalTransform;\n        \n        // Clean up after the transition\n        setTimeout(() => {\n          // Clear the root element\n          rootElement.innerHTML = '';\n          \n          // Add the new content\n          if (newContent instanceof DocumentFragment) {\n            rootElement.appendChild(newContent.cloneNode(true));\n          } else if (typeof newContent === 'string') {\n            rootElement.innerHTML = newContent;\n          } else {\n            console.error('Unsupported content type:', typeof newContent);\n            rootElement.innerHTML = String(newContent);\n          }\n          \n          // Reset styles\n          rootElement.style.position = '';\n          rootElement.style.overflow = '';\n          resolve();\n        }, duration);\n      }, 10);\n    });\n  };\n};\n\n/**\n * Custom transition effect\n * @param {Function} fn - Custom transition function\n * @returns {Function} Transition function\n */\nexport const custom = (fn) => {\n  return async (oldContent, newContent, rootElement) => {\n    return fn(oldContent, newContent, rootElement);\n  };\n};\n\nexport default {\n  none,\n  fade,\n  slide,\n  custom\n};","/**\n * SPA Router using the History API\n */\nimport { pathToRegex, extractParams, normalizePath, findAnchorInPath, shouldHandleLink } from './utils.js';\nimport { fade } from './transitions.js';\n\n/**\n * Router class for handling SPA navigation\n */\nexport class Router {\n  /**\n   * Create a new router\n   * @param {Object} options - Router options\n   * @param {Object} options.routes - Route definitions (optional)\n   * @param {string} options.rootElement - Root element selector\n   * @param {Function} options.errorHandler - 404 error handler\n   * @param {Function} options.transition - Transition function\n   */\n  constructor(options = {}) {\n    this.routes = {};\n    this.rootElement = options.rootElement || '#app';\n    this.errorHandler = options.errorHandler || this.defaultErrorHandler;\n    this.transition = options.transition || fade({ duration: 150 });\n    this.currentRoute = null;\n    this.loading = false;\n    this.middlewares = [];\n    \n    // Register initial routes if provided\n    if (options.routes) {\n      this.registerRoutes(options.routes);\n    }\n    \n    // Initialize\n    this.init();\n  }\n\n  /**\n   * Initialize the router\n   */\n  init() {\n    console.log('Router initializing...');\n    \n    // Handle initial route immediately if document is already loaded\n    if (document.readyState === 'complete' || document.readyState === 'interactive') {\n      console.log('Document already loaded, navigating to:', window.location.pathname);\n      this.navigate(window.location.pathname, false);\n    }\n    \n    // Also handle when DOM is fully loaded\n    window.addEventListener('DOMContentLoaded', () => {\n      console.log('DOMContentLoaded event, navigating to:', window.location.pathname);\n      this.navigate(window.location.pathname, false);\n    });\n    \n    // Handle popstate events (browser back/forward)\n    window.addEventListener('popstate', (e) => {\n      console.log('Popstate event, navigating to:', window.location.pathname);\n      this.navigate(window.location.pathname, false);\n    });\n    \n    // Intercept all clicks at the document level (including those from Shadow DOM)\n    document.addEventListener('click', (e) => {\n      // Skip if modifier keys are pressed\n      if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n      \n      // Find anchor element in the event path\n      const anchor = findAnchorInPath(e);\n      \n      // Skip if no anchor found\n      if (!anchor) return;\n      \n      // Check if the link should be handled by the router\n      if (!shouldHandleLink(anchor)) return;\n      \n      // Get the href attribute\n      const href = anchor.getAttribute('href');\n      \n      // Prevent default behavior\n      e.preventDefault();\n      \n      // Navigate to the link\n      this.navigate(href);\n      \n      console.log('Intercepted click on link:', href);\n    }, { capture: true }); // Use capture to get events before they reach the shadow DOM\n  }\n\n  /**\n   * Register multiple routes\n   * @param {Object} routes - Route definitions\n   */\n  registerRoutes(routes) {\n    Object.entries(routes).forEach(([path, routeConfig]) => {\n      this.addRoute(path, routeConfig);\n    });\n  }\n\n  /**\n   * Add a single route\n   * @param {string} path - Route path\n   * @param {Object} routeConfig - Route configuration\n   */\n  addRoute(path, routeConfig) {\n    // Convert path to regex for matching\n    const { regex, paramNames } = pathToRegex(path);\n    \n    // Store the route with its regex and param names\n    this.routes[path] = {\n      ...routeConfig,\n      regex,\n      paramNames,\n      path\n    };\n  }\n\n  /**\n   * Remove a route\n   * @param {string} path - Route path\n   */\n  removeRoute(path) {\n    delete this.routes[path];\n  }\n\n  /**\n   * Get the current route\n   * @returns {Object|null} - Current route\n   */\n  getCurrentRoute() {\n    return this.currentRoute;\n  }\n\n  /**\n   * Go back in history\n   */\n  back() {\n    window.history.back();\n  }\n\n  /**\n   * Go forward in history\n   */\n  forward() {\n    window.history.forward();\n  }\n\n  /**\n   * Add middleware\n   * @param {Function} middleware - Middleware function\n   */\n  use(middleware) {\n    this.middlewares.push(middleware);\n  }\n\n  /**\n   * Navigate to a route\n   * @param {string} path - Route path\n   * @param {boolean} pushState - Whether to push state to history\n   */\n  async navigate(path, pushState = true) {\n    console.log(`Router navigating to: ${path}`);\n    \n    // Store the original path before normalization\n    const originalPath = path;\n    \n    // Normalize path\n    path = normalizePath(path);\n    \n    // Update history if needed - do this before any potential early returns\n    if (pushState) {\n      console.log('Updating history with path:', path);\n      window.history.pushState({ path }, document.title, path);\n    }\n    \n    // Skip if already loading\n    if (this.loading) {\n      console.log('Already loading, skipping navigation');\n      return;\n    }\n    \n    // Set loading state\n    this.loading = true;\n    \n    // Find matching route\n    const route = this.findRoute(path);\n    console.log('Found route:', route ? 'yes' : 'no');\n    \n    // Get root element\n    const rootElement = document.querySelector(this.rootElement);\n    if (!rootElement) {\n      console.error(`Root element \"${this.rootElement}\" not found`);\n      this.loading = false;\n      return;\n    }\n    \n    try {\n      // Get the current content for transitions\n      const oldContent = rootElement.innerHTML;\n      \n      // If route exists, run middleware\n      if (route) {\n        // Run middleware\n        const from = this.currentRoute ? this.currentRoute.path : null;\n        const to = { path, params: route.params };\n        \n        // Create a next function for middleware\n        let index = 0;\n        const next = async (nextPath) => {\n          // If nextPath is provided, navigate to it instead\n          if (nextPath) {\n            this.loading = false;\n            return this.navigate(nextPath);\n          }\n          \n          // Run the next middleware\n          if (index < this.middlewares.length) {\n            const middleware = this.middlewares[index++];\n            return middleware(to, from, next);\n          }\n          \n          // No more middleware, continue with navigation\n          return this.renderRoute(route, rootElement, oldContent);\n        };\n        \n        // Start middleware chain\n        await next();\n      } else {\n        // Handle 404\n        console.log('Route not found, showing 404 page for path:', originalPath);\n        \n        try {\n          // Call the error handler with the original path\n          const errorContent = this.errorHandler(originalPath, rootElement);\n          \n          // Apply transition\n          await this.transition(oldContent, errorContent, rootElement);\n        } catch (error) {\n          console.error('Error in error handler or transition:', error);\n        }\n        \n        // Ensure any transition overlays are removed\n        setTimeout(() => {\n          const overlays = document.querySelectorAll('.transition-overlay');\n          overlays.forEach(overlay => {\n            if (document.body.contains(overlay)) {\n              document.body.removeChild(overlay);\n            }\n          });\n          \n          // Dispatch a custom event to signal that the error page has been rendered\n          document.dispatchEvent(new CustomEvent('error-page-rendered', {\n            detail: { path }\n          }));\n        }, 100);\n      }\n    } catch (error) {\n      console.error('Error rendering route:', error);\n      \n      // Handle errors\n      rootElement.innerHTML = `<div class=\"error\">Error loading page: ${error.message}</div>`;\n    } finally {\n      // Clear loading state\n      this.loading = false;\n    }\n  }\n\n  /**\n   * Render a route\n   * @param {Object} route - Route to render\n   * @param {HTMLElement} rootElement - Root element\n   * @param {string} oldContent - Old content for transitions\n   */\n  async renderRoute(route, rootElement, oldContent) {\n    // Set current route\n    this.currentRoute = route;\n    \n    // Get view content\n    let content;\n    \n    // Check for beforeEnter guard\n    if (route.beforeEnter) {\n      // Create a next function for the guard\n      const next = (nextPath) => {\n        if (nextPath) {\n          this.loading = false;\n          return this.navigate(nextPath);\n        }\n        return true;\n      };\n      \n      // Run the guard\n      const result = await route.beforeEnter(route, this.currentRoute, next);\n      \n      // If the guard returned false or a promise that resolves to false, abort\n      if (result === false) {\n        this.loading = false;\n        return;\n      }\n    }\n    \n    try {\n      if (typeof route.view === 'function') {\n        // If view is a function, call it with params\n        console.log('Calling view function with params:', route.params);\n        content = await route.view(route.params);\n      } else if (typeof route.view === 'string') {\n        // If view is a string, treat it as HTML\n        console.log('Using string view');\n        content = route.view;\n      } else if (route.component) {\n        // If route has a component, handle it\n        console.log('Creating component:', route.component);\n        \n        if (typeof route.component === 'string') {\n          // If component is a string, create the element\n          const component = document.createElement(route.component);\n          \n          // Add props if provided\n          if (route.props) {\n            Object.entries(route.props).forEach(([key, value]) => {\n              component[key] = value;\n            });\n          }\n          \n          content = component.outerHTML;\n        } else if (typeof route.component === 'function') {\n          // If component is a function, it's a dynamic import\n          const module = await route.component();\n          const Component = module.default || module;\n          \n          // Create the component\n          const component = new Component(route.props);\n          content = component.render ? component.render() : component.outerHTML;\n        }\n      } else {\n        // Default to empty content\n        console.log('No view or component found, using empty content');\n        content = '';\n      }\n      \n      // Apply transition\n      await this.transition(oldContent, content, rootElement);\n      \n      // Call afterRender if provided\n      if (route.afterRender) {\n        console.log('Calling afterRender function');\n        try {\n          route.afterRender(route.params);\n        } catch (error) {\n          console.error('Error in afterRender:', error);\n        }\n      }\n      \n      // Dispatch route changed event\n      window.dispatchEvent(new CustomEvent('route-changed', {\n        detail: { path: route.path, route }\n      }));\n      \n      // Remove the initial loading overlay if it exists\n      const initialOverlay = document.getElementById('initial-loading-overlay');\n      if (initialOverlay) {\n        initialOverlay.style.opacity = '0';\n        setTimeout(() => {\n          if (initialOverlay.parentNode) {\n            initialOverlay.parentNode.removeChild(initialOverlay);\n          }\n        }, 150);\n      }\n    } catch (error) {\n      console.error('Error rendering route content:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Find a route that matches the path\n   * @param {string} path - Route path\n   * @returns {Object|null} - Matching route or null\n   */\n  findRoute(path) {\n    // Check for exact match\n    if (this.routes[path]) {\n      return { ...this.routes[path] };\n    }\n    \n    // Special case for root path\n    if (path === '/' && this.routes['/']) {\n      return { ...this.routes['/'] };\n    }\n    \n    // Check for dynamic routes\n    for (const routePath in this.routes) {\n      const route = this.routes[routePath];\n      \n      // Skip if not a dynamic route\n      if (!routePath.includes(':')) continue;\n      \n      // Extract params\n      const params = extractParams(path, route.regex, route.paramNames);\n      \n      if (params) {\n        // Return route with params\n        return {\n          ...route,\n          params\n        };\n      }\n    }\n    \n    return null;\n  }\n\n  /**\n   * Default 404 error handler\n   * @param {string} path - Route path\n   * @param {HTMLElement} rootElement - Root element\n   * @returns {string} - Error page HTML\n   */\n  defaultErrorHandler(path) {\n    return `\n      <div class=\"error-page\">\n        <h1>404 - Page Not Found</h1>\n        <p>The page \"${path}\" could not be found.</p>\n        <a href=\"/\" class=\"back-link\">Go back to home</a>\n      </div>\n    `;\n  }\n}\n\nexport default Router;","/**\n * Component Loader Utility\n *\n * Handles automatic detection and loading of web components from HTML content\n */\n\n/**\n * Extracts module script sources from HTML content\n * @param {Document} doc - Parsed HTML document\n * @returns {string[]} - Array of script sources\n */\nexport function extractModuleScriptSources(doc) {\n  // Extract script tags from both body and the entire document\n  // This ensures we catch scripts at the root level of HTML fragments\n  const bodyScriptTags = Array.from(doc.body.querySelectorAll('script[type=\"module\"]'));\n  const allScriptTags = Array.from(doc.querySelectorAll('script[type=\"module\"]'));\n  \n  // Combine and deduplicate script tags\n  const scriptTags = [...new Set([...bodyScriptTags, ...allScriptTags])];\n  \n  // Extract src attributes\n  const scriptSources = scriptTags.map(script => script.getAttribute('src')).filter(src => src);\n  \n  if (scriptSources.length > 0) {\n    console.log(`Found ${scriptSources.length} module scripts:`, scriptSources);\n  }\n  \n  return scriptSources;\n}\n\n/**\n * Executes inline script tags from HTML content\n * @param {Document} doc - Parsed HTML document\n * @returns {Promise<number>} - Number of executed inline scripts\n */\n/**\n * Execute inline scripts by replacing them with new script elements\n * This forces the browser to execute the scripts\n * @param {Document} doc - Parsed HTML document\n * @returns {number} - Number of executed inline scripts\n */\nexport async function executeInlineScripts(doc) {\n  return function reexecuteInlineScripts(container) {\n    // Execute inline scripts only (ignore scripts with src)\n    const scripts = container.querySelectorAll('script:not([src])');\n    let count = scripts.length;\n    \n    scripts.forEach(oldScript => {\n      const newScript = document.createElement('script');\n      [...oldScript.attributes].forEach(attr =>\n        newScript.setAttribute(attr.name, attr.value)\n      );\n      newScript.textContent = oldScript.textContent;\n      oldScript.replaceWith(newScript); // Maintains position in DOM\n    });\n    \n    return count;\n  };\n}\n\n/**\n * Filters out script tags from HTML content\n * @param {HTMLElement} element - Element to filter scripts from\n * @param {boolean} keepScripts - Whether to keep script tags in the output (default: false)\n * @returns {DocumentFragment} - Document fragment with scripts removed or preserved\n */\nexport function filterScriptTags(element, keepScripts = false) {\n  const tempDiv = document.createElement('div');\n  \n  // Clone all child nodes, optionally excluding script tags\n  Array.from(element.children).forEach(child => {\n    if (keepScripts || child.tagName !== 'SCRIPT') {\n      tempDiv.appendChild(child.cloneNode(true));\n    }\n  });\n  \n  return tempDiv;\n}\n\n/**\n * Extracts all script tags from a document and creates new script elements\n * that will be executed when added to the DOM\n * @param {Document} doc - Parsed HTML document\n * @returns {Array<HTMLScriptElement>} - Array of new script elements\n */\nexport function extractAndCloneScripts(doc) {\n  // Get all script tags from the document\n  const scriptTags = Array.from(doc.querySelectorAll('script'));\n  \n  if (scriptTags.length > 0) {\n    console.log(`Found ${scriptTags.length} script tags to clone`);\n  }\n  \n  // Create new script elements with the same attributes and content\n  return scriptTags.map(oldScript => {\n    const newScript = document.createElement('script');\n    \n    // Copy all attributes\n    Array.from(oldScript.attributes).forEach(attr => {\n      newScript.setAttribute(attr.name, attr.value);\n    });\n    \n    // Copy the content\n    newScript.textContent = oldScript.textContent;\n    \n    // If it's a src script, ensure the URL is absolute\n    if (newScript.src && !newScript.src.startsWith('http://') && !newScript.src.startsWith('https://')) {\n      const baseUrl = window.location.origin;\n      const absoluteSrc = newScript.src.startsWith('/')\n        ? `${baseUrl}${newScript.src}`\n        : `${baseUrl}/${newScript.src}`;\n      newScript.src = absoluteSrc;\n    }\n    \n    return newScript;\n  });\n}\n\n/**\n * Creates a document fragment from HTML content and ensures scripts are properly handled\n * @param {Document} doc - Parsed HTML document\n * @returns {DocumentFragment} - Document fragment with content and scripts that will execute\n */\nexport function createFragmentWithScripts(doc) {\n  // Create a fragment to hold the content\n  const fragment = document.createDocumentFragment();\n  \n  // Clone all children from the body\n  Array.from(doc.body.children).forEach(child => {\n    // Skip script tags, we'll handle them separately\n    if (child.tagName !== 'SCRIPT') {\n      fragment.appendChild(child.cloneNode(true));\n    }\n  });\n  \n  // Extract and clone script tags\n  const scriptElements = extractAndCloneScripts(doc);\n  \n  // Add the script elements to the fragment\n  scriptElements.forEach(script => {\n    fragment.appendChild(script);\n  });\n  \n  // Extract module script sources\n  const moduleScripts = extractModuleScriptSources(doc);\n  \n  // Create and add module scripts to the fragment\n  if (moduleScripts && moduleScripts.length > 0) {\n    console.log(`Adding ${moduleScripts.length} module scripts to the fragment`);\n    \n    moduleScripts.forEach(src => {\n      // Create a new script element\n      const script = document.createElement('script');\n      script.type = 'module';\n      \n      // Convert to absolute URL if needed\n      if (src.startsWith('http://') || src.startsWith('https://')) {\n        script.src = src;\n      } else {\n        // For local scripts, create absolute URL based on current origin\n        const baseUrl = window.location.origin;\n        const absoluteSrc = src.startsWith('/')\n          ? `${baseUrl}${src}`\n          : `${baseUrl}/${src}`;\n        script.src = absoluteSrc;\n      }\n      \n      console.log(`Adding module script: ${script.src}`);\n      fragment.appendChild(script);\n    });\n  }\n  \n  return fragment;\n}\n\nexport default {\n  extractModuleScriptSources,\n  executeInlineScripts,\n  filterScriptTags,\n  extractAndCloneScripts,\n  createFragmentWithScripts\n};","/**\n * Enhanced renderer for SPA Router\n * Provides component preservation and translation support\n */\nimport { extractModuleScriptSources, executeInlineScripts, filterScriptTags } from './component-loader.js';\n\n/**\n * Create a content renderer that handles translations and component preservation\n * @param {Object} options - Renderer options\n * @param {Function} options.translateContainer - Function to translate a container\n * @param {Function} options.applyRTLToDocument - Function to apply RTL direction to document\n * @param {Boolean} options.handleScripts - Whether to handle scripts in content (default: true)\n * @param {Boolean} options.keepScripts - Whether to keep script tags in the output (default: false)\n * @returns {Function} Renderer function\n */\nexport function createRenderer(options = {}) {\n  const translateContainer = options.translateContainer || ((container) => {});\n  const applyRTLToDocument = options.applyRTLToDocument || (() => {});\n  const handleScripts = options.handleScripts !== false; // Default to true\n  const keepScripts = options.keepScripts === true; // Default to false\n\n  return async (content, element) => {\n    // Create a new container with absolute positioning (off-screen)\n    const newContainer = document.createElement('div');\n    newContainer.style.position = 'absolute';\n    newContainer.style.top = '0';\n    newContainer.style.left = '0';\n    newContainer.style.width = '100%';\n    newContainer.style.height = '100%';\n    newContainer.style.opacity = '0'; // Start hidden\n    newContainer.style.zIndex = '1'; // Above the current content\n    \n    // Handle different content types\n    let doc;\n    \n    if (content instanceof DocumentFragment) {\n      console.log('Received DocumentFragment as content');\n      // Create a temporary document to hold the fragment\n      doc = document.implementation.createHTMLDocument('');\n      \n      // Clone the fragment to avoid modifying the original\n      const clonedFragment = content.cloneNode(true);\n      \n      // Append the fragment to the document body\n      doc.body.appendChild(clonedFragment);\n    } else if (typeof content === 'string') {\n      console.log('Received string as content');\n      // Parse the content into DOM\n      const parser = new DOMParser();\n      doc = parser.parseFromString(content, 'text/html');\n    } else {\n      console.error('Unsupported content type:', typeof content);\n      throw new Error('Unsupported content type: ' + typeof content);\n    }\n    \n    // Handle scripts if enabled\n    let scriptExecutor;\n    let moduleScripts = [];\n    let scriptElements = [];\n    \n    if (handleScripts) {\n      // Extract module scripts but don't execute them yet\n      // We'll store them to execute after the DOM is updated\n      moduleScripts = extractModuleScriptSources(doc);\n      \n      // Get the script executor function to be called after content is added to DOM\n      scriptExecutor = await executeInlineScripts(doc);\n      \n      // If keepScripts is true, collect all script elements to be properly inserted later\n      if (keepScripts) {\n        console.log('Collecting script tags to properly insert them later');\n        scriptElements = Array.from(doc.querySelectorAll('script')).map(script => {\n          // Create a clone of the script element\n          const newScript = document.createElement('script');\n          \n          // Copy all attributes\n          Array.from(script.attributes).forEach(attr => {\n            newScript.setAttribute(attr.name, attr.value);\n          });\n          \n          // Copy the content\n          newScript.textContent = script.textContent;\n          \n          // Remove the original script from the DOM\n          if (script.parentNode) {\n            script.parentNode.removeChild(script);\n          }\n          \n          return newScript;\n        });\n        \n        console.log(`Collected ${scriptElements.length} script elements`);\n      } else {\n        // Filter out script tags from the content\n        const bodyWithoutScripts = filterScriptTags(doc.body, false);\n        \n        // Clear the body and append each child individually\n        while (doc.body.firstChild) {\n          doc.body.removeChild(doc.body.firstChild);\n        }\n        \n        Array.from(bodyWithoutScripts.children).forEach(child => {\n          doc.body.appendChild(child);\n        });\n      }\n    }\n    \n    // Get all existing web components in the current DOM to preserve\n    const existingComponents = {};\n    const customElements = element.querySelectorAll('*').filter(el => el.tagName.includes('-'));\n    \n    customElements.forEach(el => {\n      const id = el.tagName.toLowerCase();\n      existingComponents[id] = el;\n    });\n    \n    // Process the new content\n    Array.from(doc.body.children).forEach(child => {\n      // If it's a custom element that already exists, skip it (we'll keep the existing one)\n      if (child.tagName.includes('-') && existingComponents[child.tagName.toLowerCase()]) {\n        console.log(`Preserving existing component: ${child.tagName.toLowerCase()}`);\n      } else {\n        // Otherwise, add the new element to the container\n        newContainer.appendChild(child);\n      }\n    });\n    \n    // Translate all text in new DOM\n    if (translateContainer) {\n      translateContainer(newContainer);\n    }\n    \n    // Add preserved components back to the new container\n    Object.values(existingComponents).forEach(component => {\n      newContainer.appendChild(component);\n    });\n    \n    // Add the new container to the DOM\n    element.appendChild(newContainer);\n    \n    // Apply RTL direction if needed\n    if (applyRTLToDocument) {\n      applyRTLToDocument();\n    }\n    \n    // Short delay to ensure everything is ready, then show new content and remove old\n    setTimeout(() => {\n      // Remove all old content\n      Array.from(element.children).forEach(child => {\n        if (child !== newContainer) {\n          element.removeChild(child);\n        }\n      });\n      \n      // Show the new content by changing position and opacity\n      newContainer.style.position = 'relative';\n      newContainer.style.opacity = '1';\n      \n      // Execute inline scripts if we have a script executor\n      if (scriptExecutor) {\n        console.log('Executing inline scripts');\n        scriptExecutor(newContainer);\n      }\n      \n      // Insert collected script elements if keepScripts is true\n      if (scriptElements && scriptElements.length > 0) {\n        console.log(`Inserting ${scriptElements.length} script elements into the DOM`);\n        scriptElements.forEach(script => {\n          if (script.type === 'module') {\n            console.log(`Inserting module script: ${script.src || 'inline'}`);\n          } else {\n            console.log(`Inserting regular script: ${script.src || 'inline'}`);\n          }\n          \n          // If it's a src script, ensure the URL is absolute\n          if (script.src && !script.src.startsWith('http://') && !script.src.startsWith('https://')) {\n            const baseUrl = window.location.origin;\n            const absoluteSrc = script.src.startsWith('/')\n              ? `${baseUrl}${script.src}`\n              : `${baseUrl}/${script.src}`;\n            script.src = absoluteSrc;\n          }\n          \n          // Append to the document to execute it\n          document.head.appendChild(script);\n        });\n      }\n      \n      // Now that the DOM is updated, import and execute module scripts\n      if (moduleScripts.length > 0) {\n        console.log('Importing module scripts after DOM update');\n        \n        // Get the base URL of the current application\n        const baseUrl = window.location.origin;\n        \n        // Import each module script\n        moduleScripts.forEach(src => {\n          // Create a new script element\n          const script = document.createElement('script');\n          script.type = 'module';\n          \n          // Convert to absolute URL if needed\n          if (src.startsWith('http://') || src.startsWith('https://')) {\n            script.src = src;\n          } else {\n            // For local scripts, create absolute URL based on current origin\n            const absoluteSrc = src.startsWith('/')\n              ? `${baseUrl}${src}`\n              : `${baseUrl}/${src}`;\n            script.src = absoluteSrc;\n          }\n          \n          console.log(`Loading module script: ${script.src}`);\n          document.head.appendChild(script);\n        });\n      }\n      \n      // Dispatch a custom event to notify that the SPA transition is complete\n      window.dispatchEvent(new CustomEvent('spa-transition-end'));\n    }, 50);\n  };\n}\n\n/**\n * Create a default error handler\n * @param {Object} options - Error handler options\n * @returns {Function} Error handler function\n */\nexport function createErrorHandler(options = {}) {\n  return (path) => {\n    return `\n      <div class=\"error-page\">\n        <h1>404 - Page Not Found</h1>\n        <p>The page \"${path}\" could not be found.</p>\n        <a href=\"/\" class=\"back-link\">Go back to home</a>\n      </div>\n    `;\n  };\n}\n\nexport default {\n  createRenderer,\n  createErrorHandler\n};","/**\n * @profullstack/spa-router\n * A lightweight, feature-rich SPA router with smooth transitions and Shadow DOM support\n */\n\nimport Router from './router.js';\nimport * as transitions from './transitions.js';\nimport * as utils from './utils.js';\nimport * as renderer from './renderer.js';\nimport * as componentLoader from './component-loader.js';\n\n// Export the main components\nexport { Router, transitions, utils, renderer, componentLoader };\n\n// Export a default object for UMD builds\nexport default {\n  Router,\n  transitions,\n  utils,\n  renderer,\n  componentLoader\n};"],"names":["transitions","utils","renderer","componentLoader"],"mappings":"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"}